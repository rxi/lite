local syntax = require "core.syntax"

syntax.add {
  files = { "%.php$", "%.phps$", "%.phtml$" },
  headers = "<%?php",
  comment = "//",
  patterns = {
    { pattern = "#.-\n",                  type = "comment"  },
    { pattern = "//.-\n",                 type = "comment"  },
    { pattern = { "/%*", "%*/" },         type = "comment"  },
    { pattern = { '"', '"', '\\' },       type = "string"   },
    { pattern = { "'", "'", '\\' },       type = "string"   },
    { pattern = { "`", "`", '\\' },       type = "string"   },
    { pattern = "0x[%da-fA-F]+",          type = "number"   },
    { pattern = "-?%d+[%d%.eE]*",         type = "number"   },
    { pattern = "-?%.?%d+",               type = "number"   },
    { pattern = "[%+%-=/%*%^%%<>!~|&]",   type = "operator" },
    { pattern = "[%a_][%w_]*%f[(]",       type = "function" },
    { pattern = "[%a_][%w_]*%f[%s(]",     type = "function" },
    { pattern = "[%a_][%w_]*",            type = "symbol"   },

  },
  symbols = {
    ["__halt_compiler"] =       "keyword",
    ["abstract"] =              "keyword",
    ["and"] =                   "keyword",
    ["array"] =                 "keyword",
    ["as"] =                    "keyword",
    ["break"] =                 "keyword",
    ["callable"] =              "keyword",
    ["case"] =                  "keyword",
    ["catch"] =                 "keyword",
    ["class"] =                 "keyword",
    ["clone"] =                 "keyword",
    ["const"] =                 "keyword",
    ["continue"] =              "keyword",
    ["declare"] =               "keyword",
    ["default"] =               "keyword",
    ["die"] =                   "keyword",
    ["do"] =                    "keyword",
    ["echo"] =                  "keyword",
    ["else"] =                  "keyword",
    ["elseif"] =                "keyword",
    ["empty"] =                 "keyword",
    ["enddeclare"] =            "keyword",
    ["endfor"] =                "keyword",
    ["endforeach"] =            "keyword",
    ["endif"] =                 "keyword",
    ["endswitch"] =             "keyword",
    ["endwhile"] =              "keyword",
    ["eval"] =                  "keyword",
    ["exit"] =                  "keyword",
    ["extends"] =               "keyword",
    ["final"] =                 "keyword",
    ["finally"] =               "keyword",
    ["fn"] =                    "keyword",
    ["for"] =                   "keyword",
    ["foreach"] =               "keyword",
    ["function"] =              "keyword",
    ["global"] =                "keyword",
    ["goto"] =                  "keyword",
    ["if"] =                    "keyword",
    ["implements"] =            "keyword",
    ["include"] =               "keyword",
    ["include_once"] =          "keyword",
    ["instanceof"] =            "keyword",
    ["insteadof"] =             "keyword",
    ["interface"] =             "keyword",
    ["isset"] =                 "keyword",
    ["list"] =                  "keyword",
    ["match"] =                 "keyword",
    ["namespace"] =             "keyword",
    ["new"] =                   "keyword",
    ["or"] =                    "keyword",
    ["print"] =                 "keyword",
    ["private"] =               "keyword",
    ["protected"] =             "keyword",
    ["public"] =                "keyword",
    ["readonly"] =              "keyword",
    ["require"] =               "keyword",
    ["require_once"] =          "keyword",
    ["return"] =                "keyword",
    ["static"] =                "keyword",
    ["switch"] =                "keyword",
    ["throw"] =                 "keyword",
    ["trait"] =                 "keyword",
    ["try"] =                   "keyword",
    ["unset"] =                 "keyword",
    ["use"] =                   "keyword",
    ["var"] =                   "keyword",
    ["while"] =                 "keyword",
    ["xor"] =                   "keyword",
    ["yield"] =                 "keyword",
    ["yield from"] =            "keyword",

    ["__CLASS__"] =             "keyword2",
    ["__DIR__"] =               "keyword2",
    ["__FILE__"] =              "keyword2",
    ["__FUNCTION__"] =          "keyword2",
    ["__LINE__"] =              "keyword2",
    ["__METHOD__"] =            "keyword2",
    ["__NAMESPACE__"] =         "keyword2",
    ["__TRAIT__"] =             "keyword2",

    ["int"] =           "literal",
    ["float"] =         "literal",
    ["bool"] =          "literal",
    ["string"] =        "literal",
    ["true"] =          "literal",
    ["false"] =         "literal",
    ["null"] =          "literal",
    ["void"] =          "literal",
    ["iterable"] =      "literal",
    ["object"] =        "literal",
    ["mixed"] =         "literal",
    ["never"] =         "literal",
    ["enum"] =          "literal",
    ["resource"] =      "literal",
    ["numeric"] =       "literal"
  }

}
